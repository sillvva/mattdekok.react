@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

@mixin light-theme {
  --background: 229, 229, 229;
  --link: rgb(0, 112, 231);
  --linkHover: rgb(227, 249, 255);
  --linkText: var(--link);
  --dropShadow: rgb(136, 136, 136);
  --headerOpacity: 0.8;
  --headers: rgb(0, 0, 0);
  --text: rgb(42, 42, 42);
  --altText: rgb(245, 245, 245);
  --article: rgb(255, 255, 255);
  --GitHub: rgb(13, 13, 13);
  --LinkedIn: rgb(0, 0, 0);
  --ratingOn: rgb(200, 125, 0);
  --ratingOff: rgb(232, 232, 232);
  --menu: var(--link);
  --menuHover: rgb(15, 76, 117);
  --menuText: rgb(255, 255, 255);
  --loading: rgba(255, 255, 255, 0.7);
}

@mixin dark-theme {
  --background: 32, 33, 37;
  --link: rgb(0, 171, 154);
  --linkHover: rgb(var(--background));
  --linkText: var(--link);
  --dropShadow: rgb(24, 24, 24);
  --headerOpacity: 0;
  --headers: rgb(189, 250, 225);
  --text: rgb(245, 245, 245);
  --altText: rgb(42, 42, 42);
  --article: rgb(47, 47, 47);
  --GitHub: rgb(255, 255, 255);
  --LinkedIn: rgb(255, 255, 255);
  --ratingOn: rgb(255, 200, 0);
  --ratingOff: rgb(32, 32, 32);
  --menu: var(--link);
  --menuHover: hwb(180 0% 67%);
  --menuText: rgb(255, 255, 255);
  --loading: rgba(255, 255, 255, 0.2);
}

@mixin blue-theme {
  --background: 32, 64, 103;
  --link: rgb(23, 180, 247);
  --linkHover: rgb(var(--background));
  --linkText: var(--link);
  --dropShadow: rgb(24, 24, 24);
  --headerOpacity: 0;
  --headers: rgb(187, 225, 250);
  --text: rgb(245, 245, 245);
  --altText: rgb(42, 42, 42);
  --article: rgb(41, 62, 86);
  --GitHub: rgb(255, 255, 255);
  --LinkedIn: rgb(255, 255, 255);
  --ratingOn: rgb(255, 200, 0);
  --ratingOff: rgb(16, 40, 72);
  --menu: rgb(8, 158, 222);
  --menuHover: rgb(35, 66, 135);
  --menuText: rgb(255, 255, 255);
  --loading: rgba(255, 255, 255, 0.2);
}

@mixin universal-theme {
  --darkBackground: rgb(34, 38, 41);
  --blogHeaderShade: rgb(24, 24, 24);
  --blogHeaderText: rgb(245, 245, 245);
  --shadowColor: rgba(0, 0, 0, 0.2);
  --shadowHover: rgba(0, 0, 0, 0.4);
  --PayPal1: rgb(0, 48, 135);
  --PayPal2: rgb(0, 156, 222);
  --Stripe: rgb(0, 123, 255);
  @supports (not (backdrop-filter: blur(0px))) {
    --headerOpacity: 0.9 !important;
  }
}

body {
  overflow-y: scroll;
}

html {
  @include universal-theme();
  &,
  [data-theme="light"] {
    @include light-theme();
  }
  &[data-theme="dark"],
  [data-theme="dark"] {
    @include dark-theme();
  }
  &[data-theme="blue"],
  [data-theme="blue"] {
    @include blue-theme();
  }
  @media (prefers-color-scheme: dark) {
    &,
    [data-theme="dark"] {
      @include dark-theme();
    }
    &[data-theme="light"],
    [data-theme="light"] {
      @include light-theme();
    }
    &[data-theme="blue"],
    [data-theme="blue"] {
      @include blue-theme();
    }
  }
  & {
    background: rgb(var(--background));
    color: var(--text) !important;
  }
  a {
    color: var(--link);
    text-decoration: none;
  }
}

* {
  transition: background 0.5s linear;
}

.loading {
  @apply relative overflow-hidden;
  &::before {
    content: "test";
    @apply block absolute left-0 -top-5 w-14 h-[300px] min-h-[200%] rotate-[15deg] text-transparent;
    @apply bg-gradient-to-r from-transparent via-[var(--loading)];
    animation: loading 1.1s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  }
}

@keyframes loading {
  from {
    left: -200px;
  }
  to {
    left: 100%;
  }
}

.loading-line {
  &.title,
  &.subtitle,
  &.text {
    @apply flex items-center;
    span {
      @apply loading block overflow-hidden w-full rounded-full bg-gray-500/40;
    }
  }
  &.title {
    @apply w-full max-w-[200px] h-7;
    span {
      @apply h-[18px];
    }
  }
  &.subtitle {
    @apply w-full max-w-[150px] h-6;
    span {
      @apply h-[14px];
    }
  }
  &.text {
    @apply w-full h-6;
    span {
      @apply h-[14px];
    }
  }
}
